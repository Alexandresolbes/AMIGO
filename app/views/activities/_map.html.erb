<style>
window.addEventListener('DOMContentLoaded', (event) => {
    var mapCanvas = document.getElementsByClassName('mapboxgl-canvas')[0]
      mapCanvas.style.height = '100%';
mapCanvas.style.width = '100%';
});

</style>
<div style="width: 100%; height: 500px;"
      data-controller="map"
      data-map-markers-value="<%= @markers.to_json %>"
      data-map-api-key-value="<%= ENV['MAPBOX_URL'] %>">
</div>